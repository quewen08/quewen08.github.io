{"title":"Vue 项目中生成类似 GitHub 的随机头像","slug":"random-avatar-md5","date":"2022-04-01T05:53:07.000Z","updated":"2022-10-19T14:40:00.262Z","comments":true,"path":"api/articles/random-avatar-md5.json","realPath":"/2022/random-avatar-md5/random-avatar-md5/","excerpt":null,"covers":["/img/2022/random-avatar-md5/1.png"],"cover":"/img/2022/random-avatar-md5/1.png","content":"<blockquote>\n<p>最近个人项目中有头像需求，就想起<code>GitHub</code>的随机头像，通过<code>identicon.js</code>和<code>blueimp-md5</code>两个第三方库实现了，记录一下。</p>\n</blockquote>\n<h3 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h3><p><img src=\"/img/2022/random-avatar-md5/1.png\"></p>\n<h3 id=\"封装组件\"><a href=\"#封装组件\" class=\"headerlink\" title=\"封装组件\"></a>封装组件</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;img class=&quot;avatar&quot; :src=&quot;url&quot;&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">  import Identicon from &#x27;identicon.js&#x27;</span><br><span class=\"line\">  import md5 from &#x27;blueimp-md5&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">  export default &#123;</span><br><span class=\"line\">    props: &#123;</span><br><span class=\"line\">      num: [Number]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    computed: &#123;</span><br><span class=\"line\">      url() &#123;</span><br><span class=\"line\">        return &#x27;data:image/png;base64,&#x27; + new Identicon(md5(this.num || 0), 420).toString()</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class=\"line\">  .avatar &#123;</span><br><span class=\"line\">    width: 40px;</span><br><span class=\"line\">    height: 40px;</span><br><span class=\"line\">    border-radius: 50%;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"注意点\"><a href=\"#注意点\" class=\"headerlink\" title=\"注意点\"></a>注意点</h3><ul>\n<li>第15行的<code>new Identicon(...)</code>必须使用new初始化，具体原因还不清楚，如果有人清楚欢迎在下方评论。</li>\n</ul>\n<h3 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h3><ul>\n<li><a href=\"https://github.com/stewartlord/identicon.js\">identicon.js</a></li>\n<li><a href=\"https://github.com/blueimp/JavaScript-MD5\">JavaScript-MD5</a></li>\n</ul>\n","more":"<blockquote>\n<p>最近个人项目中有头像需求，就想起<code>GitHub</code>的随机头像，通过<code>identicon.js</code>和<code>blueimp-md5</code>两个第三方库实现了，记录一下。</p>\n</blockquote>\n<h3 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h3><p><img src=\"/img/2022/random-avatar-md5/1.png\"></p>\n<h3 id=\"封装组件\"><a href=\"#封装组件\" class=\"headerlink\" title=\"封装组件\"></a>封装组件</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;img class=&quot;avatar&quot; :src=&quot;url&quot;&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">  import Identicon from &#x27;identicon.js&#x27;</span><br><span class=\"line\">  import md5 from &#x27;blueimp-md5&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">  export default &#123;</span><br><span class=\"line\">    props: &#123;</span><br><span class=\"line\">      num: [Number]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    computed: &#123;</span><br><span class=\"line\">      url() &#123;</span><br><span class=\"line\">        return &#x27;data:image/png;base64,&#x27; + new Identicon(md5(this.num || 0), 420).toString()</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class=\"line\">  .avatar &#123;</span><br><span class=\"line\">    width: 40px;</span><br><span class=\"line\">    height: 40px;</span><br><span class=\"line\">    border-radius: 50%;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"注意点\"><a href=\"#注意点\" class=\"headerlink\" title=\"注意点\"></a>注意点</h3><ul>\n<li>第15行的<code>new Identicon(...)</code>必须使用new初始化，具体原因还不清楚，如果有人清楚欢迎在下方评论。</li>\n</ul>\n<h3 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h3><ul>\n<li><a href=\"https://github.com/stewartlord/identicon.js\">identicon.js</a></li>\n<li><a href=\"https://github.com/blueimp/JavaScript-MD5\">JavaScript-MD5</a></li>\n</ul>\n","categories":[{"name":"教程分享","path":"api/categories/教程分享.json"},{"name":"Vue","path":"api/categories/Vue.json"}],"tags":[{"name":"教程分享","path":"api/tags/教程分享.json"}]}